function resetChartsHeight(){$(".charts").css("height",$(".content").height()/2+"px");$(".charts>div").css("height",$(".content").height()/2+"px")}function init(){$(".nav-menu").removeClass("layui-hide");getTime();setTheme();setThemeOptions()}function getTime(){var n=new Date,r=n.getFullYear(),u=n.getMonth()+1,f=n.getDate(),e=n.getHours(),o=n.getMinutes(),t=n.getSeconds(),i;t=t<10?"0"+t:t;i=r+"-"+u+"-"+f+" "+e+":"+o+":"+t;$(".nav-time span:eq(2)").html("当前时间："+i)}function addCookie(n,t){var i=new Date;i.setTime(i.getTime()+2592e6);document.cookie=n+"="+escape(t)+";expires="+i.toGMTString()}function getCookie(n){var t,i=new RegExp("(^| )"+n+"=([^;]*)(;|$)");return(t=document.cookie.match(i))?unescape(t[2]):null}function setTheme(){theme=getCookie(".AspNetCore.Theme")||"dark";theme!="dark"?($("body").removeClass("blackbg"),$("body").addClass("whitebg")):($("body").addClass("blackbg"),$("body").removeClass("whitebg"));$.getJSON("js/themes/"+theme+".json",function(n){disposeCharts();echarts.registerTheme(theme,n);renderCharts1(theme);renderCharts2(theme);renderCharts3(theme);renderCharts4(theme);renderCharts5(theme);renderCharts6(theme)})}function disposeCharts(){charts1.dispose();charts2.dispose();charts3.dispose();charts4.dispose();charts5.dispose();charts6.dispose()}function reloadCharts(){disposeCharts();renderCharts1(theme);renderCharts2(theme);renderCharts3(theme);renderCharts4(theme);renderCharts5(theme);renderCharts6(theme)}function setThemeOptions(){var n="";$.getJSON("js/themes/themes.json",function(t){var i,r;for(i of t.themes){for(n+='<div class="layui-col-md12 layui-col-md12 layui-col-md12">',n+='<a class="theme-plan-group" title="'+i.name+'" style="background-color: '+i.background+';">',r=0;r<i.theme.length;r++)n+='<div class="theme-plan-color" style="background-color:'+i.theme[r]+' ;"><\/div>';n+="<\/a>";n+="<\/div>"}$(".theme>div").html(n)})}function renderCharts1(n){charts1=echarts.init(document.getElementById("charts1"),n);charts1.showLoading(loading);charts1.setOption({title:{text:""},tooltip:{trigger:"axis"},legend:{data:["邮件营销","联盟广告","视频广告","直接访问","搜索引擎"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value"},series:[{name:"邮件营销",type:"line",stack:"总量",data:[120,132,101,134,90,230,210]},{name:"联盟广告",type:"line",stack:"总量",data:[220,182,191,234,290,330,310]},{name:"视频广告",type:"line",stack:"总量",data:[150,232,201,154,190,330,410]},{name:"直接访问",type:"line",stack:"总量",data:[320,332,301,334,390,330,320]},{name:"搜索引擎",type:"line",stack:"总量",data:[820,932,901,934,1290,1330,1320]}]});charts1.hideLoading()}function renderCharts2(n){charts2=echarts.init(document.getElementById("charts2"),n);charts2.showLoading(loading);charts2.setOption({})}function renderCharts3(n){charts3=echarts.init(document.getElementById("charts3"),n);charts3.showLoading(loading);charts3.setOption({})}function renderCharts4(n){charts4=echarts.init(document.getElementById("charts4"),n);charts4.showLoading(loading);charts4.setOption({})}function renderCharts5(n){charts5=echarts.init(document.getElementById("charts5"),n);charts5.showLoading(loading);charts5.setOption({})}function renderCharts6(n){charts6=echarts.init(document.getElementById("charts6"),n);charts6.showLoading(loading);charts6.setOption({})}const _menu=new mSlider({dom:".nav-menu",direction:"right",distance:"20%"}),loading={text:"加载中...",color:"#fff",textColor:"#fff",maskColor:"rgba(51, 51, 51, 0.1)",zlevel:0},refreshTime=6e4;let theme="",charts1=echarts.init(document.getElementById("charts1")),charts2=echarts.init(document.getElementById("charts2")),charts3=echarts.init(document.getElementById("charts3")),charts4=echarts.init(document.getElementById("charts4")),charts5=echarts.init(document.getElementById("charts5")),charts6=echarts.init(document.getElementById("charts6"));resetChartsHeight();init();setInterval(getTime,1e3);setInterval(reloadCharts,refreshTime);$(".theme").on("click","a",function(){let n=$(this).attr("title");if(n==getCookie(".AspNetCore.Theme"))return!1;addCookie(".AspNetCore.Theme",n);setTheme()});$(".nav-time span:eq(0)").click(function(){_menu.open()});window.addEventListener("resize",function(){resetChartsHeight();charts1.resize();charts2.resize();charts3.resize();charts4.resize();charts5.resize();charts6.resize()});